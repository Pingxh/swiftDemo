(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-task-inspector-user-forward"],{"031f":function(t,e,i){"use strict";i.r(e);var n=i("350a"),r=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"0c7e":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'.uni-section[data-v-52234a7a]{position:relative;\n\tdisplay:-webkit-box;display:-webkit-flex;display:flex;\n\tmargin-top:10px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:0 10px;height:50px;background-color:#f8f8f8;\n\tfont-weight:400}\n\n.uni-section[data-v-52234a7a]:after{position:absolute;bottom:0;right:0;left:0;height:1px;content:"";-webkit-transform:scaleY(.5);transform:scaleY(.5);background-color:#e5e5e5}\n\n.uni-section__head[data-v-52234a7a]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-right:10px}.line[data-v-52234a7a]{height:15px;background-color:silver;border-radius:5px;width:3px}.circle[data-v-52234a7a]{width:8px;height:8px;border-top-right-radius:50px;border-top-left-radius:50px;border-bottom-left-radius:50px;border-bottom-right-radius:50px;background-color:silver}.uni-section__content[data-v-52234a7a]{-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#333}.uni-section__content-title[data-v-52234a7a]{font-size:%?28?%;color:#333}.distraction[data-v-52234a7a]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.uni-section__content-sub[data-v-52234a7a]{font-size:%?24?%;color:#999}',""]),t.exports=e},"2cd6":function(t,e,i){"use strict";i.r(e);var n=i("89ca"),r=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"350a":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniTitle",props:{type:{type:String,default:""},title:{type:String,default:""},subTitle:{type:String,default:""}},data:function(){return{}},watch:{title:function(t){uni.report&&""!==t&&uni.report("title",t)}},methods:{onClick:function(){this.$emit("click")}}};e.default=n},4261:function(t,e,i){"use strict";var n=i("a5c8"),r=i.n(n);r.a},"60e3":function(t,e,i){"use strict";i.r(e);var n=i("e75a"),r=i("2cd6");for(var a in r)"default"!==a&&function(t){i.d(e,t,(function(){return r[t]}))}(a);i("9d4c");var o,s=i("f0c5"),c=Object(s["a"])(r["default"],n["b"],n["c"],!1,null,"59e9e732",null,!1,n["a"],o);e["default"]=c.exports},"69c1":function(t,e,i){"use strict";i("d81d"),i("b64b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{taskUser:"",task_info:"",task_user_id:0,task:{},department_lists:[]}},onLoad:function(){this.getTaskInfo(),this.onDepartmentSelect({},this.$store.getters.okUser.mainDepartmentId,0,-1)},methods:{getTaskInfo:function(){var t=this;this.$api.task.task_receiver_info({uuid:this.$ok.url.getPra("uuid")}).then((function(e){t.task=e.result.task})).catch((function(t){console.info(t)}))},onDepartmentSelect:function(t,e,i,n){var r=this;if(this.department_lists[t.level]){var a=this.department_lists[t.level];a.department_select=n,this.$set(this.department_lists,t.level,a)}t.department_select=n,this.$api.company.department_list_and_user({department_id:e}).then((function(t){var e=t.result.users.map((function(t,e){return t.level=i,t})),n=t.result.departments.map((function(t,e){return t.level=i,t}));r.$set(r.department_lists,i,{users:e,departments:n,department_select:-1,user_select:-1}),0==e.length&&0==n&&r.$set(r.department_lists,i,{});for(var a=0;a<r.department_lists.length;a++)a>i&&r.$set(r.department_lists,a,{})})).catch((function(t){console.info(t)}))},onUserSelect:function(t,e){for(var i=0;i<this.department_lists.length;i++){var n=this.department_lists[i];i==t.level?n.user_select=e:Object.keys(n).length>0&&(n.user_select=-1),this.$set(this.department_lists,i,n)}this.getTaskUser()},getTaskUser:function(){for(var t="",e="",i=0;i<this.department_lists.length;i++){var n=this.department_lists[i];if(Object.keys(n).length>0){if(n.user_select>=0){t=""==t&&""==e?n.users[n.user_select].idName:e+" > "+n.users[n.user_select].idName,this.task_user_id=n.users[n.user_select].userId;break}n.department_select>=0&&(e=""==e?n.departments[n.department_select].departmentName:e+" > "+n.departments[n.department_select].departmentName)}}this.taskUser=t},taskForward:function(){this.task_user_id<=0?uni.showToast({icon:"none",title:"请选择接受人"}):this.$api.task.task_receiver_action_forward(this.$ok.url.getPra("uuid"),this.task_user_id,this.task_info).then((function(t){uni.navigateBack()})).catch((function(t){console.info(t)}))},setTaskInfo:function(t){this.task_info=t.detail.value}}};e.default=n},"69fe":function(t,e,i){"use strict";i.r(e);var n=i("86d7"),r=i("e580");for(var a in r)"default"!==a&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o,s=i("f0c5"),c=Object(s["a"])(r["default"],n["b"],n["c"],!1,null,"2a1c8e3c",null,!1,n["a"],o);e["default"]=c.exports},"86d7":function(t,e,i){"use strict";var n={"uni-section":i("9ff0").default,"uni-tag":i("60e3").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"ok_main"},[i("uni-section",{attrs:{title:"任务内容",type:"line"}}),i("v-uni-view",{staticClass:"ok_box_white"},[t._v(t._s(t.task.taskInfo))]),i("uni-section",{attrs:{title:"补充说明",type:"line"}}),i("v-uni-view",{staticClass:"ok_box_white"},[i("v-uni-textarea",{staticStyle:{"min-height":"80px",width:"100%"},attrs:{placeholder:"请输入任务内容",autofocus:!0,"auto-height":!0},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.setTaskInfo.apply(void 0,arguments)}}})],1),t._l(t.department_lists,(function(e,n){return Object.keys(e).length>0?i("v-uni-view",{key:n},[i("uni-section",{attrs:{title:"接收人",type:"line"}}),i("v-uni-view",{staticClass:"ok_box_white"},[i("v-uni-view",{staticClass:"ok_row"},t._l(e.users,(function(n,r){return i("v-uni-view",{key:r,staticClass:"tag-view",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onUserSelect(n,r)}}},[i("uni-tag",{attrs:{text:n.idName,type:r==e.user_select?"success":"warning"}})],1)})),1),i("v-uni-view",{staticClass:"ok_row"},t._l(e.departments,(function(n,r){return i("v-uni-view",{key:r,staticClass:"tag-view"},[i("uni-tag",{attrs:{text:n.departmentName,type:r==e.department_select?"success":"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onDepartmentSelect(n,n.departmentId,n.level+1,r)}}})],1)})),1)],1)],1):t._e()})),this.task_user_id>0?i("v-uni-view",[i("uni-section",{attrs:{title:"当前选择",type:"line"}}),i("v-uni-view",{staticClass:"ok_box_white"},[t._v(t._s(t.taskUser))]),i("v-uni-view",{staticClass:"ok_box_white"},[i("v-uni-button",{attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.taskForward()}}},[t._v("转发任务")])],1)],1):t._e()],2)},a=[];i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}))},"89ca":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniTag",props:{type:{type:String,default:"default"},size:{type:String,default:"normal"},text:{type:String,default:""},disabled:{type:[Boolean,String],default:!1},inverted:{type:[Boolean,String],default:!1},circle:{type:[Boolean,String],default:!1},mark:{type:[Boolean,String],default:!1}},methods:{onClick:function(){!0!==this.disabled&&"true"!==this.disabled&&this.$emit("click")}}};e.default=n},"9d4c":function(t,e,i){"use strict";var n=i("a374"),r=i.n(n);r.a},"9ff0":function(t,e,i){"use strict";i.r(e);var n=i("c608"),r=i("031f");for(var a in r)"default"!==a&&function(t){i.d(e,t,(function(){return r[t]}))}(a);i("4261");var o,s=i("f0c5"),c=Object(s["a"])(r["default"],n["b"],n["c"],!1,null,"52234a7a",null,!1,n["a"],o);e["default"]=c.exports},a374:function(t,e,i){var n=i("b8d5");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i("4f06").default;r("20431132",n,!0,{sourceMap:!1,shadowMode:!1})},a5c8:function(t,e,i){var n=i("0c7e");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i("4f06").default;r("109e2527",n,!0,{sourceMap:!1,shadowMode:!1})},b8d5:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".uni-tag[data-v-59e9e732]{\n\tdisplay:-webkit-box;display:-webkit-flex;display:flex;\n\tpadding:0 16px;height:30px;line-height:30px;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;color:#333;border-radius:%?6?%;background-color:#f8f8f8;border-width:%?1?%;border-style:solid;border-color:#f8f8f8}.uni-tag--circle[data-v-59e9e732]{border-radius:15px}.uni-tag--mark[data-v-59e9e732]{border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:15px;border-bottom-right-radius:15px}.uni-tag--disabled[data-v-59e9e732]{opacity:.5}.uni-tag--small[data-v-59e9e732]{height:20px;padding:0 8px;line-height:20px;font-size:%?24?%}.uni-tag--default[data-v-59e9e732]{color:#333;font-size:%?28?%}.uni-tag-text--small[data-v-59e9e732]{font-size:%?24?%!important}.uni-tag-text[data-v-59e9e732]{color:#fff;font-size:%?28?%}.uni-tag-text--primary[data-v-59e9e732]{color:#007aff!important}.uni-tag-text--success[data-v-59e9e732]{color:#4cd964!important}.uni-tag-text--warning[data-v-59e9e732]{color:#f0ad4e!important}.uni-tag-text--error[data-v-59e9e732]{color:#dd524d!important}.uni-tag--primary[data-v-59e9e732]{color:#fff;background-color:#007aff;border-width:%?1?%;border-style:solid;border-color:#007aff}.primary-uni-tag--inverted[data-v-59e9e732]{color:#007aff;background-color:#fff;border-width:%?1?%;border-style:solid;border-color:#007aff}.uni-tag--success[data-v-59e9e732]{color:#fff;background-color:#4cd964;border-width:%?1?%;border-style:solid;border-color:#4cd964}.success-uni-tag--inverted[data-v-59e9e732]{color:#4cd964;background-color:#fff;border-width:%?1?%;border-style:solid;border-color:#4cd964}.uni-tag--warning[data-v-59e9e732]{color:#fff;background-color:#f0ad4e;border-width:%?1?%;border-style:solid;border-color:#f0ad4e}.warning-uni-tag--inverted[data-v-59e9e732]{color:#f0ad4e;background-color:#fff;border-width:%?1?%;border-style:solid;border-color:#f0ad4e}.uni-tag--error[data-v-59e9e732]{color:#fff;background-color:#dd524d;border-width:%?1?%;border-style:solid;border-color:#dd524d}.error-uni-tag--inverted[data-v-59e9e732]{color:#dd524d;background-color:#fff;border-width:%?1?%;border-style:solid;border-color:#dd524d}.uni-tag--inverted[data-v-59e9e732]{color:#333;background-color:#fff;border-width:%?1?%;border-style:solid;border-color:#f8f8f8}",""]),t.exports=e},c608:function(t,e,i){"use strict";var n,r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-section",attrs:{nvue:!0}},[t.type?i("v-uni-view",{staticClass:"uni-section__head"},[i("v-uni-view",{staticClass:"uni-section__head-tag",class:t.type})],1):t._e(),i("v-uni-view",{staticClass:"uni-section__content"},[i("v-uni-text",{staticClass:"uni-section__content-title",class:{distraction:!t.subTitle}},[t._v(t._s(t.title))]),t.subTitle?i("v-uni-text",{staticClass:"uni-section__content-sub"},[t._v(t._s(t.subTitle))]):t._e()],1),t._t("default")],2)},a=[];i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}))},e580:function(t,e,i){"use strict";i.r(e);var n=i("69c1"),r=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},e75a:function(t,e,i){"use strict";var n,r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.text?i("v-uni-view",{staticClass:"uni-tag",class:["uni-tag--"+t.type,!0===t.disabled||"true"===t.disabled?"uni-tag--disabled":"",!0===t.inverted||"true"===t.inverted?t.type+"-uni-tag--inverted":"",!0===t.circle||"true"===t.circle?"uni-tag--circle":"",!0===t.mark||"true"===t.mark?"uni-tag--mark":"","uni-tag--"+t.size],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick()}}},[i("v-uni-text",{class:["default"===t.type?"uni-tag--default":"uni-tag-text",!0===t.inverted||"true"===t.inverted?"uni-tag-text--"+t.type:"","small"===t.size?"uni-tag-text--small":""]},[t._v(t._s(t.text))])],1):t._e()},a=[];i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}))}}]);