(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-party-user-branch-apply"],{"64d5":function(t,i,a){"use strict";a.r(i);var n=a("b9bc"),s=a("8637");for(var e in s)"default"!==e&&function(t){a.d(i,t,(function(){return s[t]}))}(e);var r,c=a("f0c5"),u=Object(c["a"])(s["default"],n["b"],n["c"],!1,null,"b368c05a",null,!1,n["a"],r);i["default"]=u.exports},8637:function(t,i,a){"use strict";a.r(i);var n=a("f287"),s=a.n(n);for(var e in n)"default"!==e&&function(t){a.d(i,t,(function(){return n[t]}))}(e);i["default"]=s.a},b9bc:function(t,i,a){"use strict";var n={"uni-section":a("9ff0").default,"uni-list":a("b370").default,"uni-list-item":a("897a").default},s=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:"ok_main"},[a("v-uni-view",{staticClass:"line-10"}),a("v-uni-view",{staticClass:"line-10"}),a("uni-section",{attrs:{title:"当前党组织",type:"line"}}),a("v-uni-view",{staticClass:"ok-form-view"},[a("v-uni-view",{staticClass:"uni-flex uni-row"},[a("v-uni-view",{staticClass:"ok-form-view-left"},[t._v("党支部")]),a("v-uni-view",{staticClass:"ok-form-view-right"},[t._v(t._s(t.branch.branchName))])],1)],1),a("v-uni-view",{staticClass:"ok-form-view"},[a("v-uni-view",{staticClass:"uni-flex uni-row"},[a("v-uni-view",{staticClass:"ok-form-view-left"},[t._v("组织类别")]),a("v-uni-view",{staticClass:"ok-form-view-right"},[t._v(t._s(t.branch.branchType))])],1)],1),a("v-uni-view",{staticClass:"ok-form-view"},[a("v-uni-view",{staticClass:"uni-flex uni-row"},[a("v-uni-view",{staticClass:"ok-form-view-left"},[t._v("党组织代码")]),a("v-uni-view",{staticClass:"ok-form-view-right"},[t._v(t._s(t.branch.branchCode))])],1)],1),t.apply_status>0?a("v-uni-view",[a("uni-section",{attrs:{title:"申请转入党组织",type:"line"}}),a("v-uni-view",{staticClass:"ok-form-view"},[a("v-uni-view",{staticClass:"uni-flex uni-row"},[a("v-uni-view",{staticClass:"ok-form-view-left"},[t._v("党支部")]),a("v-uni-view",{staticClass:"ok-form-view-right"},[t._v(t._s(t.branch_to.branchName))])],1)],1),a("v-uni-view",{staticClass:"ok-form-view"},[a("v-uni-view",{staticClass:"uni-flex uni-row"},[a("v-uni-view",{staticClass:"ok-form-view-left"},[t._v("组织类别")]),a("v-uni-view",{staticClass:"ok-form-view-right"},[t._v(t._s(t.branch_to.branchType))])],1)],1),a("v-uni-view",{staticClass:"ok-form-view"},[a("v-uni-view",{staticClass:"uni-flex uni-row"},[a("v-uni-view",{staticClass:"ok-form-view-left"},[t._v("党组织代码")]),a("v-uni-view",{staticClass:"ok-form-view-right"},[t._v(t._s(t.branch_to.branchCode))])],1)],1),a("v-uni-view",{staticClass:"ok-form-view"},[a("v-uni-view",{staticClass:"uni-flex uni-row"},[a("v-uni-view",{staticClass:"ok-form-view-left"},[t._v("审核状态")]),a("v-uni-view",{staticClass:"ok-form-view-right"},[t._v(t._s(t.$ok.v.getPartyToBranchApplyStatus(t.branch_apply.applyStatus)))])],1)],1),2==t.apply_status?a("v-uni-view",{staticClass:"ok-form-view"},[a("v-uni-view",{staticClass:"uni-flex uni-row"},[a("v-uni-view",{staticClass:"ok-form-view-left"},[t._v("审核消息")]),a("v-uni-view",{staticClass:"ok-form-view-right"},[t._v(t._s(t.branch_apply.applyMessage))])],1)],1):t._e(),a("v-uni-view",{staticClass:"ok_info"},[1==t.apply_status?a("v-uni-button",{attrs:{type:"primary"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.apply_cancel()}}},[t._v("取消申请")]):t._e(),2==t.apply_status?a("v-uni-button",{attrs:{type:"primary"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.apply_anew()}}},[t._v("重新申请")]):t._e()],1)],1):t._e(),0==t.apply_status?a("v-uni-view",[a("uni-section",{attrs:{title:"选择要转入的党组织",type:"line"}}),a("v-uni-view",{staticClass:"ok_box_white",staticStyle:{"margin-bottom":"1px"}},[a("v-uni-view",[a("v-uni-input",{staticClass:"uni-input",attrs:{focus:!0,placeholder:"请输入要搜索的党组织名称，例：郑州"},on:{input:function(i){arguments[0]=i=t.$handleEvent(i),t.inputKey.apply(void 0,arguments)}},model:{value:t.key,callback:function(i){t.key=i},expression:"key"}})],1)],1),a("uni-list",t._l(t.branchListShow,(function(i,n){return a("uni-list-item",{key:n,attrs:{"show-arrow":!1,title:i.branchName},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.apply_post(i)}}})})),1)],1):t._e()],1)},e=[];a.d(i,"b",(function(){return s})),a.d(i,"c",(function(){return e})),a.d(i,"a",(function(){return n}))},f287:function(t,i,a){"use strict";a("c975"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={data:function(){return{key:"",branchSelect:0,branchList:[],branchListShow:[],apply_status:-1,party:{},branch:{},branch_to:{},branch_apply:{}}},onShow:function(){this.getInfo()},methods:{getInfo:function(){var t=this;this.$api.party.party_to_branch_info().then((function(i){t.branch=i.result.branch,t.party=i.result.party,t.branch_to=i.result.branch_to,t.branch_apply=i.result.branch_apply,t.apply_status=i.result.apply_status,0==t.apply_status&&t.$api.party.party_branch_list().then((function(i){t.branchList=i.result,t.baranchSo(t.key)}))}))},apply_post:function(t){var i=this;uni.showModal({title:"确定申请转入党组织",content:t.branchName,confirmText:"确定",cancelText:"取消",success:function(a){var n=this;a.confirm&&i.$api.party.party_to_branch_apply(t.branchId,"申请转入"+t.branchName).then((function(t){i.getInfo(n.key)}))}})},apply_cancel:function(){var t=this;this.$api.party.party_to_branch_cancel(this.branch_apply.utbId).then((function(i){t.getInfo()}))},apply_anew:function(){var t=this;this.apply_status=0,this.$api.party.party_branch_list().then((function(i){t.branchList=i.result,t.baranchSo(t.key)}))},baranchSo:function(t){if(""===t)this.branchListShow=this.branchList;else{this.branchListShow=[];for(var i=0;i<this.branchList.length;i++){var a=this.branchList[i];a.branchName.indexOf(t)>=0&&this.branchListShow.push(a)}}},inputKey:function(t){this.baranchSo(t.detail.value)}}};i.default=n}}]);